Bybit Futures Analyzer by Marcel Dio
# BybitFuturesAnalyzer
Приложение для анализа цен фьючерса.

1. Определить собственные движения цены фьючерса ETHUSDT, 
исключив из них движения, вызванные влиянием цены BTCUSDT.
  
2. Написал программу которая в реальном времени (с минимальной задержкой)
следит за ценой фьючерса ETHUSDT и определяет собственные движения цены ETH.
При изменении цены на 1% за последние 60 минут, программа выводит сообщения
в консоль. Программа должна продолжать работать дальше, постоянно считывая
актуальную цену.

3. Дополнительно: Создал тг-бота при изменении цены ETHUSDT более чем на 1% 
за последние 60 минут бот отправляет уведомления в Telegram.

Методика исключения влияния:
Для исключения влияния цены BTCUSDT на движение ETHUSDT буду использовать 
подход на основе анализа корреляции и регрессии. 

Шаг 1: Сбор данных
Соберу исторические данные по ценам фьючерсов ETHUSDT и BTCUSDT. 
С Bybit API можно запрашивать данные в заданном временном диапазоне и интервале (например, минутные или часовые свечи).

Шаг 2: Определение корреляции
Рассчитаю корреляцию между изменениями цены BTCUSDT и ETHUSDT на каждом временном интервале. 
Высокий уровень корреляции подскажет, что движения цен ETHUSDT зависят от BTCUSDT.
Изменения цены можно измерить, используя процентное изменение (pct_change()) или разницу в закрытиях.

Шаг 3: Регрессионный анализ
Используем линейную регрессию для моделирования влияния BTCUSDT на ETHUSDT:
BTCUSDT будет независимой переменной (X), ETHUSDT — зависимой (y).
На основе этой модели мы сможем предсказать «зависимую» часть движения ETHUSDT, вызванную BTCUSDT.

Шаг 4: Исключение влияния BTCUSDT
Получим остаток регрессии (разницу между фактической ценой ETHUSDT и предсказанной моделью).
Эти «остатки» представляют движение ETHUSDT, очищенное от влияния BTCUSDT, 
и их можно использовать для дальнейшего анализа или поиска аномалий.

Шаг 5: Подбор параметров
Параметры для подбора:
Временной интервал (5 минут, 1 час и т.д.)
Количество данных для определения зависимости (например, последние 1000 свечей)
Порог значимости корреляции для анализа (например, корреляция выше 0.5 может считаться значительной).

Приложение готово для тестирования в реальных условиях. Вот краткий обзор выполненных шагов:

Определение собственных движений цены ETHUSDT:
Использование корреляции и регрессии для моделирования зависимости от BTCUSDT
и расчета "очищенных" изменений цены ETHUSDT.

Мониторинг в реальном времени:
Программа следит за ценой ETHUSDT в реальном времени, обновляя данные каждые
60 секунд и проверяя изменения цены за последние 60 минут.
При изменении цены более чем на 1% оповещения выводятся в консоль.

Telegram-бот:
При изменении цены ETHUSDT более чем на 1% за последние 60 минут 
бот отправляет уведомление в Telegram, что позволяет получать оповещения независимо от консоли.
Программа должна теперь стабильно работать по назначению, 
а также отправлять сообщения при значительных изменениях цены. 
Если потребуется дополнительно настроить порог оповещений или 
изменить частоту мониторинга, можно будет скорректировать параметры, 
адаптируя проект под дальнейшие задачи.


Инструкция по использованию проекта, чтобы было удобно следовать шагам при установке и запуске.

# BybitFuturesAnalyzer
Приложение для анализа цен фьючерса ETHUSDT с исключением влияния цен BTCUSDT и отправкой уведомлений в Telegram 
при значительных изменениях.

## Описание проекта
Программа в реальном времени отслеживает изменения цены фьючерса ETHUSDT, определяет собственные движения цены, 
исключая влияние BTCUSDT. При изменении цены на 1% за последние 60 минут программа выводит сообщение в консоль и 
отправляет уведомление в Telegram.

### Методика исключения влияния BTCUSDT
Для исключения влияния BTCUSDT используется подход на основе анализа корреляции и линейной регрессии.

## Установка и настройка
1. **Клонирование репозитория**

2. Установка зависимостей
Убедитесь, что у вас установлен Python 3.8+ и менеджер зависимостей Poetry. 
Выполните команду для установки зависимостей:
poetry install

3. Создание бота в Telegram
Откройте BotFather в Telegram и создайте нового бота, следуя его инструкциям.
Сохраните токен бота, который будет нужен для отправки уведомлений.

4. Получение chat_id в Telegram
Найдите своего бота в Telegram, отправьте ему любое сообщение.
Откройте Telegram API URL с вашим токеном.
Найдите chat_id в ответе JSON.

5. Создание файла .env
Создайте файл .env в корне проекта и добавьте туда переменные,
в качестве примера списка переменных используйте файл sample.env.
Вот они: 
BYBIT_API_KEY=<ваш API ключ Bybit>
BYBIT_API_SECRET=<ваш API секрет Bybit>
TELEGRAM_BOT_TOKEN=<токен вашего бота>
TELEGRAM_CHAT_ID=<ваш chat_id>

6. Запуск программы
Запустите мониторинг, выполнив:
poetry run python realtime_monitor.py

7. Для просмотра анализа исторических значений и просмотра графиков, выполните:
poetry run python analysis.py

Структура проекта
bybit_api.py — модуль для взаимодействия с Bybit API.
realtime_monitor.py — основной файл для мониторинга цен ETHUSDT в реальном времени и отправки уведомлений.
analysis.py - файл для анализа исторических значений и просмотра графиков.
README.md — инструкция по использованию проекта.
test_connection.py - проверка связи с Bybit API.
Основные этапы анализа
Сбор исторических данных по ETHUSDT и BTCUSDT.
Определение корреляции между изменениями цен.
Регрессионный анализ для моделирования влияния BTCUSDT на ETHUSDT.
Исключение влияния BTCUSDT для расчета "очищенных" изменений ETHUSDT.
Настройка порогов для оповещений и запуск мониторинга в реальном времени.
Примечания
Программа требует стабильного интернет-соединения для работы с Bybit API.
Убедитесь, что ваш бот Telegram и Bybit API настроены корректно, чтобы избежать ошибок при отправке уведомлений.
Лицензия
Этот проект распространяется под лицензией MIT. Подробности в файле LICENSE.

Добавление этой инструкции в `README.md` позволит любому пользователю легко настроить и запустить проект.
